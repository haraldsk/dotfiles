# gcloud
export CLOUDSDK_COMPUTE_ZONE=europe-north1-a
export CLOUDSDK_COMPUTE_REGION=europe-north1
export USE_GKE_GCLOUD_AUTH_PLUGIN=True

# kubectl
export KUBECTL_EXTERNAL_DIFF="dyff between --omit-header --set-exit-code"

# shell / shell / bash
export HISTCONTROL="ignoredups:ignorespace"
export CLICOLOR=true
# remove zsh nagging on osx
export BASH_SILENCE_DEPRECATION_WARNING=1

# vim
export EDITOR=nvim
export VISUAL=nvim

# homebrew
if [[ $(uname -p) -eq "arm" ]]; then
  export PATH=${HOME}/bin:/usr/local/bin:/opt/homebrew/bin:${PATH}
else
  export PATH=${HOME}/bin:/usr/local/bin:${PATH}
fi

# go - https://github.com/golang/protobuf/issues/795
if [[ -x  `which go` ]]; then
    export GOROOT=$(go env GOROOT)
    export GOPATH=$(go env GOPATH)
    export GOBIN=$GOPATH/bin
    export PATH=$PATH:$GOROOT:$GOPATH:$GOBIN
fi

# vscode
if [[ -x "/Applications/Visual Studio Code.app" ]]; then
    export PATH="$PATH:/Applications/Visual Studio Code.app/Contents/Resources/app/bin"
fi

# glcoud
if [ -f '/Users/harald/.google-cloud-sdk/path.bash.inc' ]; then
    . '/Users/harald/.google-cloud-sdk/path.bash.inc'
fi

# krew
if [[ -d "$HOME/.krew/bin" ]]; then
    export PATH="${PATH}:${HOME}/.krew/bin"
fi

# pyenv and pyenv-virtualenv
if [[ -s "$HOME/.pyenv/bin/pyenv" ]]; then
    export PYENV_ROOT="$HOME/.pyenv"
    export PATH="$PYENV_ROOT/bin:$PATH"
    eval "$(pyenv init -)"
    eval "$(pyenv virtualenv-init -)"
fi


if [[ -x "$HOME/.poetry/bin/poetry" ]]; then
    export PATH="$HOME/.poetry/bin:$PATH"
fi

if [[ -f "$HOME/.sdkman/bin/sdkman-init.sh" ]]; then
    source "$HOME/.sdkman/bin/sdkman-init.sh"
fi

# puppet tools require ruby@2.7
if [[ -d "/opt/homebrew/opt/ruby@2.7/bin" ]]; then
    export PATH="/opt/homebrew/opt/ruby@2.7/bin:$PATH"
fi

# set paths for homebrew for man pages and scripts
if [[ -n $(which brew) ]]; then
    eval $(brew shellenv)
fi

# load local env files which are not in git
for env_file in $(echo $HOME/.env.*); do
    source ${env_file}
done
